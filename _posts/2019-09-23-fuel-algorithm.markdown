---
layout: post
title: Navigation Fuel Algorithm
categories: [development]
---

<br>根据导航路线和其附近的油站，实现加油算法。

<br>

##### 1. 导航路线和附近油站筛选

```

导航路线采样  =>  经纬度画框筛选附近的采样点  =>  找到油站点与导航点的映射关系

```

<br>

##### 2. 油箱数据结构

```

  |                                    |
  |        tank0   (price: $3.0)       |
  |     |        |                     |
  |     |--------|   max / min         |
  |     |@@@@@@@@|                     |
  |     |@@@@@@@@|                     |
  |      --------                      |
  |                                    |
  |                                    |
  |        tank1   (price: $2.5)       |
  |     |        |                     |
  |     |--------|   max               |
  |     | ？ ？ ？|                     |
  |     | ？ ？ ？|  ===================|====》  可能存在于油箱中，
  |     | ？ ？ ？|                     |        也可能会将空间匀给后续 
  |     | ？ ？ ？|                     |        tank 中更“便宜”的油
  |     |--------|   min               |
  |     |@@@@@@@@|  ===================|====》 一定存在油箱中的油
  |      --------                      |
  |                                    |
  |                                    |
  |        tank2   (price: $2.8)       |
  |     |        |                     |
  |     |--------|   max               |
  |     | ？ ？ ？|                     |
  |     | ？ ？ ？|                     |
  |      --------    min               |
  |                                    |
  |       ......                       |
  |       ......                       |
  |                                    |
  -------------------------------------

     总油箱在某时刻的快照，由装有多个不同油站汽油的小 “油缸” 组成
```

<br>

##### 3. 计算每一段子路程的油耗，将其消耗在对应的“小油箱”中

<br>

##### 4. 补偿导航路线到油站加油的差值









<br>
<br>


